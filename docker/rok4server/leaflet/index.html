<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name = "viewport" content = "width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Rok4-Map</title>
    <style type="text/css">
        html,body,#map{ margin:0; padding:0; height:100%; width:100%; }
    </style>
	<!-- API Leaflet -->
    <script src="leaflet.js"></script>
    <script src="Leaflet.VectorGrid.bundled.js"></script>
    <link rel="stylesheet" href="leaflet.css" />
    <script>
    window.onload = function () {
        var server=window.location.protocol+"//"+window.location.host;
        var geoportail="https://wxs.ign.fr/choisirgeoportail/geoportail"
        var ortho = L.tileLayer(geoportail+'/wmts?service=WMTS&request=GetTile&version=1.0.0&layer={id}&style=normal&tilematrixSet=PM&format=image%2Fjpeg&height=256&width=256&tilematrix={z}&tilerow={y}&tilecol={x}', {
            attribution: '<a href="http://www.ign.fr">IGN</a>',
            id: 'ORTHOIMAGERY.ORTHOPHOTOS'
        });
        var martinique = L.tileLayer(server+'/data?service=WMTS&request=GetTile&version=1.0.0&layer={id}&style=normal&tilematrixSet=PM&format=image%2Fjpeg&height=256&width=256&tilematrix={z}&tilerow={y}&tilecol={x}', {
            attribution: '<a href="http://www.ign.fr">IGN</a>',
            id: 'BDORTHO'
        });

        var vectorLIMADM = L.vectorGrid.protobuf(server+"/data/1.0.0/LIMADM/{z}/{x}/{y}.pbf", {
              vectorTileLayerStyles: { },
              maxNativeZoom: 14
          })


        var map = L.map('map',{
            fullscreenControl: true,
            center: [14.61, -61.06],
            zoom: 10,
            layers: [ortho,martinique,vectorLIMADM]
        });
        L.control.layers({
            "ORTHOPHOTO GEOPORTAIL": ortho,
            "MARTINIQUE": martinique,
            "LIMITES" : vectorLIMADM,
        }).addTo(map);
    }
    </script>
</head>
<body>
<div id="map"></div>
</body>
</html>
